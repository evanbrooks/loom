$color      = black
$bg         = white
$graytext   = #bbb
$activetext = rgb(0, 163, 255)
$redcolor   = #991616
$darkbg     = #2D323A


.dragbar
  position: fixed
  // border-bottom: 1px solid blue
  // background #f4f4f4
  background white
  background:  -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(250,250,250,1) 100%)

  z-index: 10
  top: 0
  left: 0
  right: 5px
  -webkit-app-region drag
  border-bottom: 1px solid #eee
  height: 2.6em
  opacity 0.95
  -webkit-transition all 0.2s

.win-btn
  position fixed
  z-index  12
  top      16px
  display  block
  height   11px
  width    11px
  text-decoration none
  color transparent
  border-radius 50%
  border 1px solid #CFCFCF
  //background #f2f2f2
  margin-right 4px
  cursor default
  -webkit-app-region: no-drag

$s = 3px
.win-close
  left     $s + 11px
.win-minim
  left     $s + 33px
.win-maxim
  left     $s + 55px


.win-close:hover
  background rgba(red, 0.2)
  border-color brown
.win-minim:hover
  background rgba(yellow, 0.3)
  border-color darken(yellow, 10)
.win-maxim:hover
  background rgba(green, 0.2)
  border-color green


.fan-btn
  position fixed
  top 11px
  right 11px

.theme-btn
  position fixed
  bottom 11px
  right 11px

.theme-icon
  display inline-block
  height  14px
  width   14px
  background gray
  border-radius 50%
  position relative
  overflow hidden
  &:hover
    background #bbb
  &:after
    content ""
    background white
    position absolute
    border-radius 50%
    left    25%
    top     0
    z-index 2
    height  100%
    width   100%


.dark-theme
  background: $darkbg
  color: #aaa
  .dragbar
    background:  -webkit-linear-gradient(top, $darkbg 0%,rgba(255,255,255,0) 100%)
    border-color: rgba(white,0.08)
  .nav
    li
      color gray
    .activetab
      color white
  .tab
    background $darkbg
  .win-btn
    border 1px solid rgba(white,0.05)
    background rgba(white,0.06)
  ::-webkit-scrollbar-thumb
    background: rgba(255,255,255,0.2)


.actions
  position: absolute
  right    0
  left     0
  width    100%
  z-index  200
  padding: 11px
  // padding 0 1em
  a
    //display: inline-block
    //text-decoration: none
    //padding: 0.2em 1.5em
    // color: #00A3FF
    //-webkit-app-region: no-drag;
    border-bottom 1px dotted gray

.server
  padding: 20px 0
  color: #aaa

header.actions
  top: 0

footer.actions
  bottom: 0
  span
    opacity 0.1
    font-size 1.2em
    color gray
  span:hover
    opacity 1

h1
  font-size: 3rem

h2
  font-size: 2rem


.nav
  position: fixed
  z-index: 15
  top     0.4em
  left    5em
  right  1em
  border  0
  //background: white //#f4f4f4
  -webkit-transition all 0.2s

.fanned
  .nav, .dragbar
    opacity 0


.tab-bar
  display inline-block
  font-size: 18px
  line-height: 30px
  li
    -webkit-app-region no-drag
    display: inline-block
    padding: 0 10px
    text-decoration: none
    // font-weight: 200
    color    $graytext
    &:active
      color #888
  .activetab, .activetab:hover
    color    black


    // background white

.CodeMirror-sizer
  padding-top: 60px


.tab-btn-x
  //display inline-block
  display none
  height 10px
  width 10px
  position relative
  margin-right: 5px;
  &:hover
    &:before
      opacity 1 !important
      color brown
  &:before
    -webkit-transition all 0.15s
    content "Ã—"
    color black
    opacity 0
    position absolute
    line-height 10px
    font-size 22px
    top 0
    left 0
    -webkit-transform scale(0.5)
  :hover > &
    &:before 
      opacity 0.2
      -webkit-transform scale(1)

.activetab .tab-btn-x&:before
  // -webkit-transform scale(1)
  opacity 0.2

.unsaved .tab-btn-x&:before
    content "o"

.btn
  display: inline-block
  padding: 0.8em 1em
  margin-bottom: 1em
  background: red
  color: white
  text-decoration: none


.tabs
  position: absolute
  top: 0 //2.8em
  left: 0
  bottom: 0
  right: 0

  white-space: nowrap
  overflow: hidden
  width: 100%
  height: 100%
  // -webkit-app-region: no-drag

.tab
  -webkit-transition: -webkit-transform 0.15s
  position: fixed
  top: 0
  left: 0

  width: 100%
  height: 100%
  background white

  display: block //none
  vertical-align: top
  -webkit-transform: translate3d(0, 0, 0)
  // width: 700px
  &.aftertab
    -webkit-transform translate3d(100%,0, 0)
  &.active
    display: block
    opacity: 1
    -webkit-transform: translate3d(0, 0, 0)

.fanned .tab
  -webkit-transition: -webkit-transform 0.15s cubic-bezier(0.220, 1.10, 0.365, 1.000)
  box-shadow 0 0 50px rgba(0,0,0,0.07), 0 0 5px rgba(0,0,0,0.2)

.CodeMirror
  /* Set height, width, borders, and global font properties here */
  color: #535353
  top: 0
  left: 0
  bottom: 0 
  // padding-left: 1em
  // padding-right: 1em
  height: calc(100vh - 2.8em)
  height 100vh

// We've removed outside margin, so add it back here.
// That way, fills bleed to the edge of the window
.CodeMirror pre 
  padding: 0 4ch;
  // margin 0 2ch

// Why isn't this default?!?
.CodeMirror-cursors
  z-index 5 !important


// When there is a gutter element, the line (normally a pre) is
// wrapped in an anonymous div together with its gutter.
// ----------
// We've moved the gutter element *after* the pre, so it can
// be implicitly positioned right next to it instead
// of floating mysteriously in the margin
.CodeMirror .CodeMirror-code > div > pre
  display: inline-block
// ----------
// We undo the absolute positioning mess
// to allow the gutter elts to be in-line
.CodeMirror-gutter-wrapper
  display inline-block
  &[style]
    position static !important
.CodeMirror-gutter-elt
  position static !important
  display inline-block


.dragging
  cursor: ns-resize
  // opacity 0.3
  *
    -webkit-user-select: none !important
    cursor: ns-resize !important



@media (min-width: 1000px)
  body 
    padding-top: 1em
    // -webkit-app-region drag

  .CodeMirror-sizer
    padding-top 30px


  .nav
    width       150px
    bottom      0
    left       0
    right auto
    border      0
    top 0
    z-index 10
    // border-right 1px solid #eee
    padding-top 30px
    // border-right: 1px solid #ddd

  .dragbar
    -webkit-app-region drag
    background:  -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%)
    border: 0
    height: 2em

  .bottom
    width   150px
    right   auto

  .tab-bar
    li
      display: block

  .tabs
    top  0px
    left 150px

  .CodeMirror
    top: 2px
    height: 100vh
